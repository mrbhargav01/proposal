<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BT Proposal</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Arial", sans-serif;
        }
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
            overflow-x: hidden;
            touch-action: manipulation;
        }
        .container {
            text-align: center;
            padding: 25px;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            width: 90%;
            margin: 20px;
            position: relative;
        }
        h1 {
            margin: 20px 0;
            color: #e91e63;
            font-size: 24px;
        }
        p {
            margin-bottom: 20px;
            color: #555;
            font-size: 16px;
            line-height: 1.5;
        }
        .video-container {
            width: 100%;
            max-width: 300px;
            margin: 0 auto 20px;
            border-radius: 10px;
            overflow: hidden;
        }
        .video-container video {
            width: 100%;
            height: auto;
            border-radius: 10px;
        }
        .btn {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 25px;
            flex-wrap: wrap;
        }
        .btn a {
            padding: 12px 25px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s;
            font-size: 16px;
            min-width: 100px;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }
        .yes-btn {
            background-color: #4CAF50;
            color: white;
        }
        .no-btn {
            background-color: #f44336;
            color: white;
        }
        .btn a:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        #move-random {
            transition: all 0.5s ease;
            position: relative;
        }
        @media (max-width: 480px) {
            h1 {
                font-size: 20px;
            }
            p {
                font-size: 14px;
            }
            .btn a {
                padding: 10px 20px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- Content loaded dynamically -->
    </div>

    <audio autoplay loop id="bgMusic">
        <source src="https://www.zedge.net/ringtones/13b3d01c-df7d-4fb9-a6f8-a71e470c246c" type="audio/mpeg">
    </audio>

    <script>
        // Video URLs
        const videos = {
            home: "https://media.tenor.com/p_VEcmrBsLMAAAPo/manja.mp4",
            yes: "https://media.tenor.com/A4Lvk69JMJkAAAPo/mochi-cat.mp4",
            no1: "https://media.tenor.com/dltr8Wx24g8AAAPo/mochi.mp4",
            no2: "https://media.tenor.com/tzvzrz4famQAAAPo/couple-forgive-me.mp4",
            no3: "https://media.tenor.com/3bDvSVpiwjoAAAPo/peach-goma-phone.mp4"
        };

        // Pages content
        const pages = {
            home: {
                video: videos.home,
                title: "🤗 Do you love me? ❤️",
                text: "❤️ I am all yours babe 🤗",
                buttons: [
                    { text: "Yes", link: "#yes", class: "yes-btn" },
                    { text: "No", link: "#no1", class: "no-btn" }
                ]
            },
            no1: {
                video: videos.no1,
                title: "Please yaar think again! 🙄",
                text: "itni jaldi nahi matt bolo 😥",
                buttons: [
                    { text: "Yes", link: "#yes", class: "yes-btn" },
                    { text: "No", link: "#no2", class: "no-btn" }
                ]
            },
            no2: {
                video: videos.no2,
                title: "Kya tum sach mai esa chahati ho 😣",
                text: "kyu aisa kar rahe ho 😣",
                buttons: [
                    { text: "Yes", link: "#yes", class: "yes-btn" },
                    { text: "No", link: "#no3", class: "no-btn" }
                ]
            },
            no3: {
                video: videos.no3,
                title: "Baby Man jao na! Kitna bhav khaogi 😭",
                text: "😭tadpaaoge tadpaa lo ham tadap tadap kar bhi tumhaare geet gaayenge thukraaoge thukraa lo ham thokar khaa kar bhi tumhaare dar pe aayenge tadpaaoge tadpaa lo😭",
                buttons: [
                    { text: "Yes", link: "#yes", class: "yes-btn" },
                    { text: "No", link: "#", class: "no-btn", id: "move-random" }
                ]
            },
            yes: {
                video: videos.yes,
                title: "🤍 I love you too! 😍🤍",
                text: "You've made me the happiest person! 😘🥰",
                buttons: [
                    { text: "Start Over", link: "#home", class: "yes-btn" }
                ]
            }
        };

        // Router function
        function router() {
            const path = window.location.hash.substring(1) || 'home';
            const app = document.getElementById('app');
            const page = pages[path] || pages.home;

            let buttonsHTML = '';
            page.buttons.forEach(btn => {
                buttonsHTML += `<a href="${btn.link}" class="${btn.class}" ${btn.id ? `id="${btn.id}"` : ''}>${btn.text}</a>`;
            });

            app.innerHTML = `
                <div class="container">
                    <div class="video-container">
                        <video autoplay loop muted playsinline>
                            <source src="${page.video}" type="video/mp4">
                        </video>
                    </div>
                    <h1>${page.title}</h1>
                    <p>${page.text}</p>
                    <div class="btn">${buttonsHTML}</div>
                </div>
            `;

            // Add moving button functionality if on no3 page
            if (path === 'no3') {
                const moveBtn = document.getElementById('move-random');
                const container = moveBtn.closest('.container');
                
                // Make container position relative if not already
                container.style.position = 'relative';
                
                // Set initial position
                moveBtn.style.position = 'static';
                
                const moveButton = function() {
                    const containerRect = container.getBoundingClientRect();
                    const btnRect = moveBtn.getBoundingClientRect();
                    
                    const maxX = containerRect.width - btnRect.width;
                    const maxY = containerRect.height - btnRect.height;
                    
                    const randomX = Math.floor(Math.random() * maxX);
                    const randomY = Math.floor(Math.random() * maxY);
                    
                    moveBtn.style.position = 'absolute';
                    moveBtn.style.left = randomX + 'px';
                    moveBtn.style.top = randomY + 'px';
                };
                
                // Move on hover (desktop) and touch (mobile)
                moveBtn.addEventListener('mouseover', moveButton);
                moveBtn.addEventListener('touchstart', function(e) {
                    e.preventDefault();
                    moveButton();
                });
                
                // Prevent default anchor behavior
                moveBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                });
            }

            // Try to play music (mobile requires user interaction first)
            const bgMusic = document.getElementById('bgMusic');
            function tryPlayMusic() {
                bgMusic.play().catch(e => console.log("Audio play failed:", e));
                document.body.removeEventListener('click', tryPlayMusic);
                document.body.removeEventListener('touchstart', tryPlayMusic);
            }
            
            document.body.addEventListener('click', tryPlayMusic, { once: true });
            document.body.addEventListener('touchstart', tryPlayMusic, { once: true });
        }
        
        // Handle navigation
        window.addEventListener('hashchange', router);
        
        // Initial load
        document.addEventListener('DOMContentLoaded', () => {
            // Handle link clicks without page reload
            document.addEventListener('click', (e) => {
                if (e.target.tagName === 'A' && e.target.href) {
                    const hash = new URL(e.target.href).hash;
                    if (hash) {
                        e.preventDefault();
                        window.location.hash = hash;
                    }
                }
            });
            
            if (!window.location.hash) window.location.hash = '#home';
            router();
        });
    </script>
</body>
</html>